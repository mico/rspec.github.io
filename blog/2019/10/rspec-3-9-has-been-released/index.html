<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]<!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1" name="viewport" /><meta content="RSpec 3.9 has been released, and RSpec team changes." property="og:title" /><meta content="https://rspec.info/blog/2019/10/rspec-3-9-has-been-released/" property="og:url" /><meta content="https://rspec.info/images/logo_ogp.png" property="og:image" /><meta content="summary" name="twitter:card" /><meta content="@rspec" name="twitter:site" /><title>RSpec 3.9 has been released, and RSpec team changes.</title><link href="/stylesheets/pages/blog.css" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" /></head><body class="blog"><header><nav><h1><img alt="Logo" src="/images/logo.png" /><a href="/">RSpec</a></h1><input class="hamburger-toggle" type="checkbox" /><div class="hamburger-icon"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div><ul class="menu"><li><a href="/about">About</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/blog">Blog</a></li><li><a href="/upgrading-from-rspec-2">Upgrade</a></li><li><a href="/help">Get Help</a></li><li><a href="/contributing">Contributing</a></li></ul></nav></header><section><article class="blog_post"><h1>RSpec 3.9 has been released, and RSpec team changes.</h1><h3 class="author">Jon Rowe</h3><small class="date">Oct 16, 2019</small><p>RSpec 3.9 has just been released! As the RSpec project follows
<a href="http://semver.org/">semantic versioning</a>, anyone already using RSpec 3
should be able to upgrade to this version seemlessly, but if we have
introduced a regression please let us know, and we'll get a patch
release out to sort it out as soon as possible.</p>

<p>We're sad to announce that <a href="https://github.com/samphippen">Penelope Phippen</a> has
retired from the project, leaving myself, <a href="https://github.com/jonrowe">Jon Rowe</a> as
the sole lead maintainer going forward, but its not all bad news, we welcome our
newest core team member <a href="https://github.com/pirj`">Phil Pirozhkov</a>.</p>

<p>Thank you Penelope for all your hard word over the years and welcome Phil!</p>

<p>This is the last release in which the RSpec gems, <code>rspec</code>, <code>rspec-core</code>,
<code>rspec-expectations</code> and <code>rspec-mocks</code> will be in sync with <code>rspec-rails</code>.
We'll be launched <code>rspec-rails</code> 4 soon which will be classed as an extension
gem and not kept in sync version wise with the core gems, which will allow
us to keep <code>rspec-rails</code> in sync with Rails versions, more on that soon.</p>

<p>RSpec continues to receive contributions from all over the world, we had
369 commits and 98 merged pull requests from 52 different contributors
who helped make this release happen. Thank you all :)</p>

<h2 id="notable-changes">Notable Changes</h2>

<h3 id="core-improved-error-handling">Core: Improved error handling</h3>

<p>If RSpec encounters an error whilst loading support files, it will now
skip loading specs files removing later confusing errors due to the earlier
error(s). Additionally when available <code>did_you_mean</code> suggestions will be
shown for any <code>LoadError</code>s that are encountered.</p>

<h3 id="core-command-line-interface-improvement---example-matches">Core: Command Line Interface improvement, <code>--example-matches</code></h3>

<p>With the release of 3.9 you can now use <code>--example-matches</code> to filter your
examples via a regular expression, useful if you only know part of an example
name or have specs with a common theme across a number of different files.</p>

<h3 id="core-new-formatter">Core: New Formatter</h3>

<p>In 3.9 you will find a new built in formatter option, the failure list formatter,
which can be used via the command line as <code>--format f</code> or <code>--format failure_list</code>,
or via the <code>RSpec::Configuration#formatter</code> method. This new formatter produces
output in a more minimalist "quick fix" style output.</p>

<h3 id="expectations-respondtonew">Expectations: respond_to(:new)</h3>

<p>The <code>respond_to</code> matcher now special cases <code>:new</code> and checks <code>:initialize</code>
if its a standard class method.</p>

<h3 id="expectations-empty-diff-warning">Expectations: Empty diff warning</h3>

<p>Prior to 3.9 when you had matchers that failed but the items under test
produced the same inspect output you'd get a confusing diff were both
sides look the same, we now detect this scenario and issue a warning.</p>

<h3 id="mocks-improved-thread-safety">Mocks: Improved thread safety</h3>

<p>A bonus for people running parralleised specs, 3.9 brings some improvements
to our threaded behaviour by adding mutexes to avoid deadlocking errors.</p>

<h3 id="rails-railshelperrb-improvements">Rails: <code>rails_helper.rb</code> improvements</h3>

<p>A minor tweak in 3.9 brining the generated <code>rails_helper.rb</code> inline
with Ruby semantics and using <code>__dir__</code> rather than <code>__FILE__</code> on
newer Rubies.</p>

<h3 id="rails-new-email-matchers">Rails: New email matchers</h3>

<p>Add a new <code>have_enqueued_mail</code> matcher for making it easier to assert
on mailer specific active jobs.</p>

<h3 id="rails-new-generators">Rails: New generators</h3>

<p>Version 3.9 brings a couple of new generator scaffolds, you can now
generate system specs on Rails 5.1 and above, generate specs for generators
and add routes when generating controller specs.</p>

<h2 id="stats">Stats:</h2>

<h3 id="combined">Combined:</h3>

<ul>
  <li><strong>Total Commits</strong>: 322</li>
  <li><strong>Merged pull requests</strong>: 59</li>
  <li><strong>54 contributors</strong>: Aaron Kromer, Alex Haynes, Alireza Bashiri, Andy Waite,
Benoit Tigeot, Bobby McDonald, Chris, Christophe Bliard, ConSou, David Rodríguez,
Douglas Lovell, Eito Katagiri, Emric, Fred Snyder, Giovanni Kock Bonetti, Grey
Baker, Jack Wink, Jamie English, Joel Lubrano, Jon Rowe, Juanito Fatas, Keiji,
Kevin, Kevin Kuchta, Kieran O'Grady, Kohei Sugi, Laura Paakkinen, Manuel
Schnitzer, Matijs van Zuijlen, Michel Ocon, Myron Marston, Nazar Matus, Nick
LaMuro, OKURA Masafumi, Olle Jonsson, Orien Madgwick, Patrick Boatner, Penelope
Phippen, Pete Johns, Phil Pirozhkov, Philippe Hardardt, Rafe Rosen, Romain Tartière,
Ryan Lue, Sam Joseph, Samuel Williams, Taichi Ishitani, Takumi Kaji,
Thomas Walpole, Tom Grimley, Viktor Fonic, Yoshimi, aymeric-ledorze, 三上大河</li>
</ul>

<h3 id="rspec-core">rspec-core:</h3>

<ul>
  <li><strong>Total Commits</strong>: 92</li>
  <li><strong>Merged pull requests</strong>: 13</li>
  <li><strong>22 contributors</strong>: Alex Haynes, Andy Waite, Benoit Tigeot, Chris, Christophe
Bliard, David Rodríguez, Jon Rowe, Juanito Fatas, Keiji, Matijs van Zuijlen,
Myron Marston, Nick LaMuro, Olle Jonsson, Orien Madgwick, Pete Johns,
Phil Pirozhkov, Philippe Hardardt, Romain Tartière, Sam Joseph, Samuel Williams,
Viktor Fonic, Yoshimi</li>
</ul>

<h3 id="rspec-expectations">rspec-expectations:</h3>

<ul>
  <li><strong>Total Commits</strong>: 60</li>
  <li><strong>Merged pull requests</strong>: 7</li>
  <li><strong>15 contributors</strong>: Benoit Tigeot, Eito Katagiri, Fred Snyder, Jack Wink,
Jamie English, Jon Rowe, Juanito Fatas, Matijs van Zuijlen, Myron Marston,
Nazar Matus, Olle Jonsson, Orien Madgwick, Pete Johns, Phil Pirozhkov,
Taichi Ishitani</li>
</ul>

<h3 id="rspec-mocks">rspec-mocks:</h3>

<ul>
  <li><strong>Total Commits</strong>: 38</li>
  <li><strong>Merged pull requests</strong>: 2</li>
  <li><strong>10 contributors</strong>: Alireza Bashiri, Benoit Tigeot, Jon Rowe, Juanito Fatas,
Kevin, Matijs van Zuijlen, Myron Marston, Olle Jonsson, Orien Madgwick,
Patrick Boatner</li>
</ul>

<h3 id="rspec-rails">rspec-rails:</h3>

<ul>
  <li><strong>Total Commits</strong>: 103</li>
  <li><strong>Merged pull requests</strong>: 17</li>
  <li><strong>27 contributors</strong>: Aaron Kromer, Benoit Tigeot, Bobby McDonald, ConSou,
Douglas Lovell, Emric, Giovanni Kock Bonetti, Grey Baker, Joel Lubrano, Jon Rowe,
Kevin Kuchta, Kieran O'Grady, Kohei Sugi, Laura Paakkinen, Manuel Schnitzer,
Michel Ocon, Myron Marston, OKURA Masafumi, Olle Jonsson, Orien Madgwick,
Penelope Phippen, Rafe Rosen, Ryan Lue, Takumi Kaji, Thomas Walpole, Tom Grimley,
aymeric-ledorze</li>
</ul>

<h3 id="rspec-support">rspec-support:</h3>

<ul>
  <li><strong>Total Commits</strong>: 29</li>
  <li><strong>Merged pull requests</strong>: 20</li>
  <li><strong>4 contributors</strong>: Benoit Tigeot, Jon Rowe, Myron Marston, 三上大河</li>
</ul>

<h2 id="docs">Docs</h2>

<h3 id="api-docs">API Docs</h3>

<ul>
  <li><a href="/documentation/3.9/rspec-core/">rspec-core</a></li>
  <li><a href="/documentation/3.9/rspec-expectations/">rspec-expectations</a></li>
  <li><a href="/documentation/3.9/rspec-mocks/">rspec-mocks</a></li>
  <li><a href="/documentation/3.9/rspec-rails/">rspec-rails</a></li>
</ul>

<h3 id="cucumber-features">Cucumber Features</h3>

<ul>
  <li><a href="http://relishapp.com/rspec/rspec-core">rspec-core</a></li>
  <li><a href="http://relishapp.com/rspec/rspec-expectations">rspec-expectations</a></li>
  <li><a href="http://relishapp.com/rspec/rspec-mocks">rspec-mocks</a></li>
  <li><a href="http://relishapp.com/rspec/rspec-rails">rspec-rails</a></li>
</ul>

<h2 id="release-notes">Release Notes</h2>

<h3 id="rspec-core-390">rspec-core-3.9.0</h3>
<p><a href="http://github.com/rspec/rspec-core/compare/v3.8.2...v3.9.0">Full Changelog</a></p>

<p>Enhancements:
* Improve the handling of errors during loading support files, if a file
  errors before loading specs, RSpec will now skip loading the specs.
  (David Rodríguez, #2568)
* Add support for –example-matches to run examples by regular expression.
  (Sam Joseph, Matt Rider, @okothkongo1, #2586)
* Add <code>did_you_mean</code> suggestions for file names encountering a <code>LoadError</code>
  outside of examples. (@obromios, #2601)
* Add a minimalist quick fix style formatter, only outputs failures as
  <code>file:line:message</code>. (Romain Tartière, #2614)
* Convert string number values to integer when used for <code>RSpec::Configuration#fail_fast</code>
  (Viktor Fonic, #2634)
* Issue warning when invalid values are used for <code>RSpec::Configuration#fail_fast</code>
  (Viktor Fonic, #2634)
* Add support for running the Rake task in a clean environment.
  (Jon Rowe, #2632)
* Indent messages by there example group / example in the documentation formatter.
  (Samuel Williams, #2649)</p>

<h3 id="rspec-expectations-390">rspec-expectations-3.9.0</h3>
<p><a href="http://github.com/rspec/rspec-expectations/compare/v3.8.5...v3.9.0">Full Changelog</a></p>

<p>Enhancements:</p>

<ul>
  <li>The <code>respond_to</code> matcher now uses the signature from <code>initialize</code> to validate checks
for <code>new</code> (unless <code>new</code> is non standard). (Jon Rowe, #1072)</li>
  <li>Generated descriptions for matchers now use <code>is expected to</code> rather than <code>should</code> in
line with our preferred DSL. (Pete Johns, #1080, rspec/rspec-core#2572)</li>
  <li>Add the ability to re-raise expectation errors when matching
with <code>match_when_negated</code> blocks. (Jon Rowe, #1130)</li>
  <li>Add a warning when an empty diff is produce due to identical inspect output.
(Benoit Tigeot, #1126)</li>
</ul>

<h3 id="rspec-mocks-390">rspec-mocks-3.9.0</h3>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.8.2...v3.9.0">Full Changelog</a></p>

<p>Enhancements:</p>

<ul>
  <li>Improve thread safety of message expectations by using Mutex to prevent
deadlocking errors. (Ry Biesemeyer, #1236)</li>
  <li>Add the ability to use <code>time</code> as an alias for <code>times</code>. For example:
<code>expect(Class).to receive(:method).exactly(1).time</code>.
(Pistos, Benoit Tigeot, #1271)</li>
</ul>

<h3 id="rspec-rails-390">rspec-rails-3.9.0</h3>
<p><a href="http://github.com/rspec/rspec-rails/compare/v3.8.2...v3.9.0">Full Changelog</a></p>

<p>Enhancements</p>

<ul>
  <li>Use <code>__dir__</code> instead of <code>__FILE__</code> in generated <code>rails_helper.rb</code> where
supported. (OKURA Masafumi, #2048)</li>
  <li>Add <code>have_enqueued</code> matcher as a "super" matcher to the <code>ActiveJob</code> matchers
making it easier to match on <code>ActiveJob</code> delivered emails. (Joel Lubrano, #2047)</li>
  <li>Add generator for system specs on Rails 5.1 and above. (Andrzej Sliwa, #1933)</li>
  <li>Add generator for generator specs. (@ConSou, #2085)</li>
  <li>Add option to generate routes when generating controller specs. (David Revelo, #2134)</li>
</ul>

<p>Bug Fixes:</p>

<ul>
  <li>Make the <code>ActiveJob</code> matchers fail when multiple jobs are queued for negated
matches. e.g. `expect { job; job; }.to_not have_enqueued_job.
(Emric Istanful, #2069)</li>
</ul>
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname  = 'rspec';
  var disqus_identifier = '/blog/2019/10/rspec-3-9-has-been-released/';
  var disqus_title      = 'RSpec 3.9 has been released, and RSpec team changes.';
  var disqus_url        = 'http://rspec.info/blog/2019/10/rspec-3-9-has-been-released/';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</article></section><footer><div>Created with the assistance of Ninefold<img alt="Brutus" src="/images/brutus-half.png" /></div><br /><a href="https://dnsimple.link/resolving-rspec" target="_blank">Resolving with<br /><img alt="DNSimple" style="width:100px;" src="https://cdn.dnsimple.com/assets/resolving-with-us/logo-dark.png" /></a></footer><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59095215-1', 'auto');
  ga('send', 'pageview');

</script>
<script>
  var SeedAndDewConfig = {};
  (function() {
    SeedAndDewConfig['adClass'] = "snd-ad";
    /* * * DON'T EDIT BELOW THIS LINE * * */
    SeedAndDewConfig['projectId'] = 'ef35b4ec-231e-4950-bd93-4c06fe3b2543';
    SeedAndDewConfig['loadStartTime'] = performance.now();
    SeedAndDewConfig['apiVersion'] = '2018-05-28'
    SeedAndDewConfig['sessionId'] = Math.random().toString(36).substring(2, 15);
    var snd = document.createElement('script');
    snd.type = 'text/javascript';
    snd.async = true;
    snd.src = 'https://www.seedanddew.com/static/embed.min.js';
    (document.getElementsByTagName('head')[0] ||
    document.getElementsByTagName('body')[0]).appendChild(snd);
  })();
</script>
</body></html>