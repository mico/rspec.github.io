<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]<!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1" name="viewport" /><meta content="RSpec 3.7 has been released!" property="og:title" /><meta content="https://rspec.info/blog/2017/10/rspec-3-7-has-been-released/" property="og:url" /><meta content="https://rspec.info/images/logo_ogp.png" property="og:image" /><meta content="summary" name="twitter:card" /><meta content="@rspec" name="twitter:site" /><title>RSpec 3.7 has been released!</title><link href="/stylesheets/pages/blog.css" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" /></head><body class="blog"><header><nav><h1><img alt="Logo" src="/images/logo.png" /><a href="/">RSpec</a></h1><input class="hamburger-toggle" type="checkbox" /><div class="hamburger-icon"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div><ul class="menu"><li><a href="/about">About</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/blog">Blog</a></li><li><a href="/upgrading-from-rspec-2">Upgrade</a></li><li><a href="/help">Get Help</a></li><li><a href="/contributing">Contributing</a></li></ul></nav></header><section><article class="blog_post"><ul class="langs"><li class="lang current_lang">en</li><li class="lang"><a href="/ja/blog/2017/10/rspec-3-7-has-been-released/">ja</a></li></ul><h1>RSpec 3.7 has been released!</h1><h3 class="author">Sam Phippen</h3><small class="date">Oct 17, 2017</small><p>RSpec 3.7 has just been released! Given our commitment to
<a href="http://semver.org/">semantic versioning</a>, this should be an easy
upgrade for anyone already using RSpec 3, but if we did introduce
any regressions, please let us know, and we'll get a patch release
out with a fix ASAP.</p>

<p>RSpec continues to be a community-driven project with contributors
from all over the world. This release includes over 127 commits and 31
merged pull requests from 27 different contributors!</p>

<p>It's worth noting: this is a smaller release than usual, as we wanted to get our
Rails System Testing integration to you as quickly as possible.</p>

<p>Thank you to everyone who helped make this release happen!</p>

<h2 id="notable-changes">Notable Changes</h2>

<h3 id="rails-actiondispatchsystemtest-integration-system-specs">Rails: <code>ActionDispatch::SystemTest</code> integration (System specs)</h3>

<p>In Rails 5.1, a new kind of test was added, called system test. These tests wrap
capybara and Rails to allow for a full stack testing experience from frontend
javascript all the way down to your database.</p>

<p>For a long time, RSpec has had <a href="https://relishapp.com/rspec/rspec-rails/docs/feature-specs/feature-spec">Feature Specs</a>
which provide a smiliar integration. There are a few important differences
between feature specs and system specs that are worth enumerating:</p>

<ol>
  <li>If you use a javascript enabled driver (like selenium or poltergeist) with
feature specs your tests run in a different <strong>process</strong> than your Rails app.
This means that your tests and your code under test cannot share a database
transaction, and so you cannot use RSpec's built in mechanism to roll back
database changes, instead requiring a gem like <a href="https://github.com/DatabaseCleaner/database_cleaner">database
cleaner</a>. With system
tests, the Rails team has done the hard work to ensure that this is not the
case, and so you can safely use RSpec's mechanism, without needing an extra
gem.</li>
  <li>RSpec's feature specs defaults to using the <code>Rack::Test</code> capybara driver. If
you want to use a javascript enabled test browser, it is on you to manage the
capybara configuration. For a long time this has proven to be something that
is tricky to get correct with more advanced integrations like selenium.
System specs default to using selenium. The difficulty of the configuration
is hidden by rails, which manipulates capybara and webdriver with chrome on
your behalf.</li>
</ol>

<p>As such, we are recommending that users on Rails 5.1 prefer writing system specs
over feature specs for full application integration testing. We'd like to give a
special thanks to <a href="https://twitter.com/eileencodes">Eileen Uchitelle</a> who lead
the implementation of this feature in Rails.</p>

<h2 id="stats">Stats:</h2>

<h3 id="combined">Combined:</h3>

<ul>
  <li><strong>Total Commits</strong>: 127</li>
  <li><strong>Merged pull requests</strong>: 31</li>
  <li><strong>27 contributors</strong>: Aaron Rosenberg, Alex Shi, Alyssa Ross, Britni Alexander, Dave Woodall, Devon Estes, Hisashi Kamezawa, Ian Ker-Seymer, James Adam, Jim Kingdon, Jon Rowe, Levi Robertson, Myron Marston, Pat Allan, RustyNail, Ryan Lue, Sam Phippen, Samuel Cochran, Sergei Trofimovich, Takeshi Arabiki, Thomas Hart, Tobias Pfeiffer, Wojciech Wnętrzak, Xavier Shay, Yuji Nakayama, Zhong Zheng, oh_rusty_nail</li>
</ul>

<h3 id="rspec-core">rspec-core:</h3>

<ul>
  <li><strong>Total Commits</strong>: 40</li>
  <li><strong>Merged pull requests</strong>: 10</li>
  <li><strong>11 contributors</strong>: Devon Estes, Ian Ker-Seymer, Jon Rowe, Levi Robertson, Myron Marston, Pat Allan, Sam Phippen, Takeshi Arabiki, Thomas Hart, Tobias Pfeiffer, Yuji Nakayama</li>
</ul>

<h3 id="rspec-expectations">rspec-expectations:</h3>

<ul>
  <li><strong>Total Commits</strong>: 13</li>
  <li><strong>Merged pull requests</strong>: 2</li>
  <li><strong>5 contributors</strong>: Jim Kingdon, Myron Marston, Pat Allan, Sam Phippen, Yuji Nakayama</li>
</ul>

<h3 id="rspec-mocks">rspec-mocks:</h3>

<ul>
  <li><strong>Total Commits</strong>: 14</li>
  <li><strong>Merged pull requests</strong>: 2</li>
  <li><strong>6 contributors</strong>: Aaron Rosenberg, Myron Marston, Pat Allan, Sam Phippen, Yuji Nakayama, Zhong Zheng</li>
</ul>

<h3 id="rspec-rails">rspec-rails:</h3>

<ul>
  <li><strong>Total Commits</strong>: 38</li>
  <li><strong>Merged pull requests</strong>: 9</li>
  <li><strong>16 contributors</strong>: Alex Shi, Alyssa Ross, Britni Alexander, Dave Woodall, Hisashi Kamezawa, James Adam, Jon Rowe, Myron Marston, RustyNail, Ryan Lue, Sam Phippen, Samuel Cochran, Wojciech Wnętrzak, Xavier Shay, Yuji Nakayama, oh_rusty_nail</li>
</ul>

<h3 id="rspec-support">rspec-support:</h3>

<ul>
  <li><strong>Total Commits</strong>: 22</li>
  <li><strong>Merged pull requests</strong>: 8</li>
  <li><strong>6 contributors</strong>: Jon Rowe, Myron Marston, Pat Allan, Sam Phippen, Sergei Trofimovich, Yuji Nakayama</li>
</ul>

<h2 id="docs">Docs</h2>

<h3 id="api-docs">API Docs</h3>

<ul>
  <li><a href="/documentation/3.7/rspec-core/">rspec-core</a></li>
  <li><a href="/documentation/3.7/rspec-expectations/">rspec-expectations</a></li>
  <li><a href="/documentation/3.7/rspec-mocks/">rspec-mocks</a></li>
  <li><a href="/documentation/3.7/rspec-rails/">rspec-rails</a></li>
</ul>

<h3 id="cucumber-features">Cucumber Features</h3>

<ul>
  <li><a href="http://relishapp.com/rspec/rspec-core">rspec-core</a></li>
  <li><a href="http://relishapp.com/rspec/rspec-expectations">rspec-expectations</a></li>
  <li><a href="http://relishapp.com/rspec/rspec-mocks">rspec-mocks</a></li>
  <li><a href="http://relishapp.com/rspec/rspec-rails">rspec-rails</a></li>
</ul>

<h2 id="release-notes">Release notes:</h2>

<h3 id="rspec-core-1">RSpec Core</h3>
<p><a href="http://github.com/rspec/rspec-core/compare/v3.6.0...v3.7.0">Full Changelog</a></p>

<p>Enhancements:</p>

<ul>
  <li>Add <code>-n</code> alias for <code>--next-failure</code>. (Ian Ker-Seymer, #2434)</li>
  <li>Improve compatibility with <code>--enable-frozen-string-literal</code> option
on Ruby 2.3+. (Pat Allan, #2425, #2427, #2437)</li>
  <li>Do not run <code>:context</code> hooks for example groups that have been skipped.
(Devon Estes, #2442)</li>
  <li>Add <code>errors_outside_of_examples_count</code> to the JSON formatter.
(Takeshi Arabiki, #2448)</li>
</ul>

<p>Bug Fixes:</p>

<ul>
  <li>Improve compatibility with frozen string literal flag. (#2425, Pat Allan)</li>
</ul>

<h3 id="rspec-expectations-1">RSpec Expectations</h3>
<p><a href="http://github.com/rspec/rspec-expectations/compare/v3.6.0...v3.7.0">Full Changelog</a></p>

<p>Enhancements:</p>

<ul>
  <li>Improve compatibility with <code>--enable-frozen-string-literal</code> option
on Ruby 2.3+. (Pat Allan, #997)</li>
</ul>

<h2 id="rspec-mocks-1">RSpec Mocks</h2>
<p><a href="http://github.com/rspec/rspec-mocks/compare/v3.6.0...v3.7.0">Full Changelog</a></p>

<p>Enhancements:</p>

<ul>
  <li>Improve compatibility with <code>--enable-frozen-string-literal</code> option
on Ruby 2.3+. (Pat Allan, #1165)</li>
</ul>

<p>Bug Fixes:</p>

<ul>
  <li>Fix <code>hash_including</code> and <code>hash_excluding</code> so that they work against
subclasses of <code>Hash</code>. (Aaron Rosenberg, #1167)</li>
</ul>

<h2 id="rspec-rails-1">RSpec Rails</h2>
<p><a href="http://github.com/rspec/rspec-rails/compare/v3.6.0...v3.7.0">Full Changelog</a></p>

<p>Bug Fixes:</p>

<ul>
  <li>Prevent "template not rendered" log message from erroring in threaded
environments. (Samuel Cochran, #1831)</li>
  <li>Correctly generate job name in error message. (Wojciech Wnętrzak, #1814)</li>
</ul>

<p>Enhancements:</p>

<ul>
  <li>Allow <code>be_a_new(...).with(...)</code> matcher to accept matchers for
attribute values. (Britni Alexander, #1811)</li>
  <li>Only configure RSpec Mocks if it is fully loaded. (James Adam, #1856)</li>
  <li>Integrate with <code>ActionDispatch::SystemTestCase</code>. (Sam Phippen, #1813)</li>
</ul>

<h2 id="rspec-support-1">RSpec Support</h2>
<p><a href="http://github.com/rspec/rspec-support/compare/v3.6.0...v3.7.0">Full Changelog</a></p>

<p>Enhancements:</p>

<ul>
  <li>Improve compatibility with <code>--enable-frozen-string-literal</code> option
on Ruby 2.3+. (Pat Allan, #320)</li>
  <li>Add <code>Support.class_of</code> for extracting class of any object.
(Yuji Nakayama, #325)</li>
</ul>

<p>Bug Fixes:</p>

<ul>
  <li>Fix recursive const support to not blow up when given buggy classes
that raise odd errors from <code>#to_str</code>. (Myron Marston, #317)</li>
</ul>
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname  = 'rspec';
  var disqus_identifier = '/blog/2017/10/rspec-3-7-has-been-released/';
  var disqus_title      = 'RSpec 3.7 has been released!';
  var disqus_url        = 'http://rspec.info/blog/2017/10/rspec-3-7-has-been-released/';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</article></section><footer><div>Created with the assistance of Ninefold<img alt="Brutus" src="/images/brutus-half.png" /></div><br /><a href="https://dnsimple.link/resolving-rspec" target="_blank">Resolving with<br /><img alt="DNSimple" style="width:100px;" src="https://cdn.dnsimple.com/assets/resolving-with-us/logo-dark.png" /></a></footer><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59095215-1', 'auto');
  ga('send', 'pageview');

</script>
<script>
  var SeedAndDewConfig = {};
  (function() {
    SeedAndDewConfig['adClass'] = "snd-ad";
    /* * * DON'T EDIT BELOW THIS LINE * * */
    SeedAndDewConfig['projectId'] = 'ef35b4ec-231e-4950-bd93-4c06fe3b2543';
    SeedAndDewConfig['loadStartTime'] = performance.now();
    SeedAndDewConfig['apiVersion'] = '2018-05-28'
    SeedAndDewConfig['sessionId'] = Math.random().toString(36).substring(2, 15);
    var snd = document.createElement('script');
    snd.type = 'text/javascript';
    snd.async = true;
    snd.src = 'https://www.seedanddew.com/static/embed.min.js';
    (document.getElementsByTagName('head')[0] ||
    document.getElementsByTagName('body')[0]).appendChild(snd);
  })();
</script>
</body></html>